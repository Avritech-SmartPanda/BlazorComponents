@page "/radiobuttonlist"

<Property365ComponentContainer Name="RadioButtonList">
        <div class="grid grid-cols-1 sm:grid-cols-4 gap-4">
        <Property365Card Class="w-full">
                <h4 class="mb-4">Horizontal orientation</h4>
                <Property365RadioButtonList @bind-Value=@value TValue="int" Change=@((args) => OnChange(args, "RadioButtonList with horizontal orientation"))>
                    <Items>
                        <Property365RadioButtonListItem Text="Orders" Value="1" />
                        <Property365RadioButtonListItem Text="Employees" Value="2" />
                        <Property365RadioButtonListItem Text="Customers" Value="3" />
                    </Items>
                </Property365RadioButtonList>
                <h4 class="mt-4">Vertical orientation</h4>
                <Property365RadioButtonList @bind-Value=@value TValue="int" Orientation="Orientation.Vertical" Change=@((args) => OnChange(args, "RadioButtonList with vertical orientation"))>
                    <Items>
                        <Property365RadioButtonListItem Text="Orders" Value="1" />
                        <Property365RadioButtonListItem Text="Employees" Value="2" />
                        <Property365RadioButtonListItem Text="Customers" Value="3" />
                    </Items>
                </Property365RadioButtonList>
            </Property365Card>
            <Property365Card Class="w-full">
                <h4 class="mb-4">Items from data</h4>
                <Property365RadioButtonList @bind-Value=@value TValue="int" Orientation="Orientation.Vertical" Change=@(args => OnChange(args, "RadioButtonList with items from data"))
                            Data="@data" TextProperty="Name" ValueProperty="Id" />
            </Property365Card>
        
            <Property365Card Class="w-full">
                <h4 class="mb-4">Declared items and items from data</h4>
                <Property365RadioButtonList @bind-Value=@value Data="@data" TextProperty="Name" ValueProperty="Id" TValue="int" Orientation="Orientation.Vertical" Change=@(args => OnChange(args, "RadioButtonList with declared items and items from data"))>
                    <Items>
                        <Property365RadioButtonListItem Text="Static item" Value="0" />
                    </Items>
                </Property365RadioButtonList>
            </Property365Card>
        
        <div class="col-span-2">
            <Property365Card>
                <h4 class="mb-4">Null as initial value</h4>
                <Property365RadioButtonList @bind-Value=@nullableValue TValue="int?" Change=@((args) => OnChange(args, "RadioButtonList with horizontal orientation"))>
                    <Items>
                        <Property365RadioButtonListItem Text="Orders" Value="1" TValue="int?" />
                        <Property365RadioButtonListItem Text="Employees" Value="2" TValue="int?" />
                        <Property365RadioButtonListItem Text="Customers" Value="3" TValue="int?" />
                    </Items>
                </Property365RadioButtonList>
            </Property365Card>
        </div>
        <div class="col-span-2">
            <Property365Card>
                <h4 class="mb-4">Disabled RadioButtonList with initial value</h4>
                <Property365RadioButtonList @bind-Value=@value Disabled="true" TValue="int">
                    <Items>
                        <Property365RadioButtonListItem Text="Orders" Value="1" TValue="int" />
                        <Property365RadioButtonListItem Text="Employees" Value="2" TValue="int" />
                        <Property365RadioButtonListItem Text="Customers" Value="3" TValue="int" />
                    </Items>
                </Property365RadioButtonList>
            </Property365Card>
        </div>
        <div class="col-span-2">
            <Property365Card>
                <h4 class="mb-4">RadioButtonList using foreach</h4>
                    <Property365RadioButtonList @bind-Value=@value TValue="int"
                        Change=@(args => OnChange(args, "RadioButtonList using foreach"))>
                        <Items>
                            @foreach (var dataItem in data)
                            {
                                <Property365RadioButtonListItem Text="@dataItem.Name" Value="@dataItem.Id" Disabled="@(dataItem.IsDisabled.HasValue ? dataItem.IsDisabled.Value : false)" Visible="@(dataItem.IsVisible.HasValue ? dataItem.IsVisible.Value : true)" />
                            }
                        </Items>
                    </Property365RadioButtonList>
            </Property365Card>
        </div>
        <div class="col-span-2">
            <Property365Card>
                <h4 class="mb-4">Items from data using optional DisabledProperty and VisibleProperty</h4>
                <Property365RadioButtonList @bind-Value=@value Data="@data" TextProperty="Name" ValueProperty="Id" DisabledProperty="IsDisabled" VisibleProperty="IsVisible" TValue="int" 
                Change=@(args => OnChange(args, "RadioButtonList with items from data using optional DisabledProperty and VisibleProperty"))>
                </Property365RadioButtonList>
            </Property365Card>
        </div>
    </div>
</Property365ComponentContainer>

<EventConsole @ref=@console Class="mt-4" />

@code {
    public class MyObject
    {
        public int Id { get; set; }
        public string Name { get; set; }
        public bool? IsDisabled { get; set; }
        public bool? IsVisible { get; set; }
    }

    IEnumerable<MyObject> data = new MyObject[] 
    {
        new MyObject() {
            Id = 1,
            Name = "Orders"
        },
        new MyObject() {
            Id = 2,
            Name = "Employees"
        }, 
        new MyObject() {
            Id = 3,
            Name = "Customers" 
        }, 
        new MyObject() {
            Id = 4,
            Name = "Companies",
            IsDisabled = true,
        }, 
        new MyObject() {
            Id = 5,
            Name = "Companies (Old)",
            IsDisabled = true,
            IsVisible = false
        } 
    };

    int value = 1;
    int? nullableValue = null;

    EventConsole console;

    void OnChange(int? value, string name)
    {
        console.Log($"{name} value changed to {value}");
    }
}